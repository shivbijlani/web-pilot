# Copilot Instructions for web-pilot Development

## Testing web-pilot

### NEVER Run web-pilot in Background
- **DO NOT** run `node src/cli.js` with `isBackground: true` in VS Code terminals
- Web-pilot is a long-running process that listens for commands continuously
- Running it in background causes issues with VS Code Copilot terminal management

### Instead: Ask User to Run Separately
When testing web-pilot functionality:

1. **Ask the user to open a separate terminal/console** and run:
   ```bash
   node src/cli.js
   # or with options:
   node src/cli.js --no-profile --url "https://example.com"
   ```

2. **In VS Code terminal, only write commands and read results:**
   ```bash
   # Write command
   "goto:https://example.com" | Out-File -FilePath command.txt -Encoding utf8 -NoNewline
   
   # Wait and read result
   Start-Sleep -Seconds 2; Get-Content result.txt
   ```

### Command Writing Pattern
Always use this pattern for writing commands:
```bash
"<command>" | Out-File -FilePath command.txt -Encoding utf8 -NoNewline
```

Never use:
```bash
echo "<command>" > command.txt  # This adds BOM and newlines
```

## Development Workflow

1. **Code changes**: Make changes to src/ files
2. **Commit & push**: Commit changes to git
3. **Testing**: Ask user to run web-pilot in separate terminal
4. **Verify**: Use VS Code terminal only for writing commands and reading results

## Summary
- ❌ Don't run web-pilot in VS Code terminal background
- ✅ Ask user to run web-pilot in separate console
- ✅ Use VS Code terminal for command writing only
- ✅ Keep terminal commands short and non-blocking
